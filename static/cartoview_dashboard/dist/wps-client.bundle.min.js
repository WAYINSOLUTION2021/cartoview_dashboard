webpackJsonp([4],{285:function(t,e,r){"use strict";var n=String.prototype.replace,o=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return n.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},286:function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t){for(var e;t.length;){var r=t.pop();if(e=r.obj[r.prop],Array.isArray(e)){for(var n=[],o=0;o<e.length;++o)void 0!==e[o]&&n.push(e[o]);r.obj[r.prop]=n}}return e},i=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},a=function t(e,r,o){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(o.plainObjects||o.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var s=e;return Array.isArray(e)&&!Array.isArray(r)&&(s=i(e,o)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,s){n.call(e,s)?e[s]&&"object"==typeof e[s]?e[s]=t(e[s],r,o):e.push(r):e[s]=r}),e):Object.keys(r).reduce(function(e,s){var i=r[s];return n.call(e,s)?e[s]=t(e[s],i,o):e[s]=i,e},s)},c=function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},u=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},l=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",n=0;n<e.length;++n){var s=e.charCodeAt(n);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?r+=e.charAt(n):s<128?r+=o[s]:s<2048?r+=o[192|s>>6]+o[128|63&s]:s<55296||s>=57344?r+=o[224|s>>12]+o[128|s>>6&63]+o[128|63&s]:(n+=1,s=65536+((1023&s)<<10|1023&e.charCodeAt(n)),r+=o[240|s>>18]+o[128|s>>12&63]+o[128|s>>6&63]+o[128|63&s])}return r},h=function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],i=o.obj[o.prop],a=Object.keys(i),c=0;c<a.length;++c){var u=a[c],l=i[u];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:i,prop:u}),r.push(l))}return s(e)},p=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},f=function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))};t.exports={arrayToObject:i,assign:c,compact:h,decode:u,encode:l,isBuffer:f,isRegExp:p,merge:a}},29:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},290:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=r(596),a=n(i),c=function t(e){var r=this;o(this,t),this.encodeURL=function(t){return encodeURIComponent(t).replace(/%20/g,"+")},this.getParamterizedURL=function(t,e){return(0,a.default)(t).query(e).toString()},this.getMapApiURL=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],o=arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=s({limit:n,offset:o},i);return e&&(c.owner__username=t),(0,a.default)(r.urls.MapsAPI).query(c).toString()},this.getMapApiSearchURL=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],o={title__contains:n};return e&&(o.owner__username=t),(0,a.default)(r.urls.MapsAPI).query(o).toString()},this.getProxiedURL=function(t){var e=r.urls.proxy,n=t;return e&&(n=r.urls.proxy+r.encodeURL(t)),n},this.urls=e};e.default=c},291:function(t,e,r){"use strict";e.__esModule=!0;var n=(e.getCRSFToken=function(){var t=void 0,e=document.cookie.match(/csrftoken=(\w+)/);return e&&e.length>0&&(t=e[1]),t},e.hasTrailingSlash=function(t){return/.*\/$/.test(t)});e.removeTrailingSlash=function(t){return n(t)?t.slice(0,-1):t}},296:function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?><wps:Execute version="1.0.0" service="WPS" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.opengis.net/wps/1.0.0" xmlns:wfs="http://www.opengis.net/wfs" xmlns:wps="http://www.opengis.net/wps/1.0.0" xmlns:ows="http://www.opengis.net/ows/1.1" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:wcs="http://www.opengis.net/wcs/1.1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd">\n  <ows:Identifier>gs:Aggregate</ows:Identifier>\n  <wps:DataInputs>\n    <wps:Input>\n      <ows:Identifier>features</ows:Identifier>\n      <wps:Reference mimeType="text/xml" xlink:href="http://geoserver/wfs" method="POST">\n        <wps:Body>\n          <wfs:GetFeature service="WFS" version="1.0.0" outputFormat="GML2" xmlns:geonode="http://www.geonode.org/">\n            <wfs:Query typeName="__typeName__">\n            __filters__\n            </wfs:Query>\n          </wfs:GetFeature>\n        </wps:Body>\n      </wps:Reference>\n    </wps:Input>\n    <wps:Input>\n  <ows:Identifier>aggregationAttribute</ows:Identifier>\n    <wps:Data>\n      <wps:LiteralData>__aggregationAttribute__</wps:LiteralData>\n    </wps:Data>\n  </wps:Input>\n  <wps:Input>\n  <ows:Identifier>function</ows:Identifier>\n    <wps:Data>\n      <wps:LiteralData>__aggregationFunction__</wps:LiteralData>\n    </wps:Data>\n  </wps:Input>\n    __groupBy__\n  </wps:DataInputs>\n   <wps:ResponseForm>\n      <wps:RawDataOutput mimeType="application/json">\n        <ows:Identifier>result</ows:Identifier>\n      </wps:RawDataOutput>\n    </wps:ResponseForm>\n</wps:Execute>\n'},297:function(t,e){t.exports='<ogc:Filter>\n\n  <ogc:BBOX>\n    <ogc:PropertyName></ogc:PropertyName>\n    <gml:Envelope srsName="http://www.opengis.net/gml/srs/epsg.xml#3857">\n      <gml:upperCorner>__minx__ __miny__</gml:upperCorner>\n      <gml:lowerCorner>__maxx__ __maxy__</gml:lowerCorner>\n    </gml:Envelope>\n  </ogc:BBOX>\n\n</ogc:Filter>\n'},298:function(t,e){t.exports="<wps:Input>\n  <ows:Identifier>groupByAttributes</ows:Identifier>\n  <wps:Data>\n    <wps:LiteralData>__attributes__</wps:LiteralData>\n  </wps:Data>\n</wps:Input>"},493:function(t,e,r){(function(t,n){var o;!function(s){function i(t){throw new RangeError(L[t])}function a(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function c(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(q,"."),n+a(t.split("."),e).join(".")}function u(t){for(var e,r,n=[],o=0,s=t.length;o<s;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<s?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function l(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=D(t>>>10&1023|55296),t=56320|1023&t),e+=D(t)}).join("")}function h(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:x}function p(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function f(t,e,r){var n=0;for(t=r?U(t/A):t>>1,t+=U(t/e);t>k*O>>1;n+=x)t=U(t/k);return U(n+(k+1)*t/(t+_))}function d(t){var e,r,n,o,s,a,c,u,p,d,m=[],y=t.length,g=0,v=C,w=I;for(r=t.lastIndexOf(R),r<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&i("not-basic"),m.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<y;){for(s=g,a=1,c=x;o>=y&&i("invalid-input"),u=h(t.charCodeAt(o++)),(u>=x||u>U((b-g)/a))&&i("overflow"),g+=u*a,p=c<=w?j:c>=w+O?O:c-w,!(u<p);c+=x)d=x-p,a>U(b/d)&&i("overflow"),a*=d;e=m.length+1,w=f(g-s,e,0==s),U(g/e)>b-v&&i("overflow"),v+=U(g/e),g%=e,m.splice(g++,0,v)}return l(m)}function m(t){var e,r,n,o,s,a,c,l,h,d,m,y,g,v,w,_=[];for(t=u(t),y=t.length,e=C,r=0,s=I,a=0;a<y;++a)(m=t[a])<128&&_.push(D(m));for(n=o=_.length,o&&_.push(R);n<y;){for(c=b,a=0;a<y;++a)(m=t[a])>=e&&m<c&&(c=m);for(g=n+1,c-e>U((b-r)/g)&&i("overflow"),r+=(c-e)*g,e=c,a=0;a<y;++a)if(m=t[a],m<e&&++r>b&&i("overflow"),m==e){for(l=r,h=x;d=h<=s?j:h>=s+O?O:h-s,!(l<d);h+=x)w=l-d,v=x-d,_.push(D(p(d+w%v,0))),l=U(w/v);_.push(D(p(l,0))),s=f(r,g,n==o),r=0,++n}++r,++e}return _.join("")}function y(t){return c(t,function(t){return P.test(t)?d(t.slice(4).toLowerCase()):t})}function g(t){return c(t,function(t){return S.test(t)?"xn--"+m(t):t})}var v=("object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType,"object"==typeof n&&n);v.global!==v&&v.window!==v&&v.self;var w,b=2147483647,x=36,j=1,O=26,_=38,A=700,I=72,C=128,R="-",P=/^xn--/,S=/[^\x20-\x7E]/,q=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=x-j,U=Math.floor,D=String.fromCharCode;w={version:"1.4.1",ucs2:{decode:u,encode:l},decode:d,encode:m,toASCII:g,toUnicode:y},void 0!==(o=function(){return w}.call(e,r,e,t))&&(t.exports=o)}()}).call(e,r(29)(t),r(12))},494:function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,s){e=e||"&",r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var a=/\+/g;t=t.split(e);var c=1e3;s&&"number"==typeof s.maxKeys&&(c=s.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var h,p,f,d,m=t[l].replace(a,"%20"),y=m.indexOf(r);y>=0?(h=m.substr(0,y),p=m.substr(y+1)):(h=m,p=""),f=decodeURIComponent(h),d=decodeURIComponent(p),n(i,f)?o(i[f])?i[f].push(d):i[f]=[i[f],d]:i[f]=d}return i};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},495:function(t,e,r){"use strict";function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?n(i(t),function(i){var a=encodeURIComponent(o(i))+r;return s(t[i])?n(t[i],function(t){return a+encodeURIComponent(o(t))}).join(e):a+encodeURIComponent(o(t[i]))}).join(e):a?encodeURIComponent(o(a))+r+encodeURIComponent(o(t)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},496:function(t,e,r){"use strict";e.decode=e.parse=r(494),e.encode=e.stringify=r(495)},596:function(t,e,r){t.exports=r(598)()},597:function(t,e){var r=["protocol","slashes","auth","host","port","hostname","hash","search","pathname","path","href"];t.exports=function(t){return r.reduce(function(e,r){return e[r]=t[r],e},{})}},598:function(t,e,r){var n=r(599),o=r(603),s=r(600),i=r(597);t.exports=function(t){function e(n){if(!(this instanceof e))return new e(n);var o={};this._query=u(o),this._prefix="",this.pathname="",this.getParsedQuery=h.bind(null,o),Object.defineProperty(this,"_requestModule",{value:t,writable:!0}),n instanceof e?a(this,n):n&&r(this,n)}function r(t,e){if(n(t,i(o.parse(e))),t._prefix=t.pathname,"/"===t._prefix&&(t._prefix="",t.pathname=""),t.search&&t.search.length>1){var r=s.parse(t.search.substr(1));t._query(r)}}function a(t,e){n(t,i(e)),t._prefix=e._prefix,t._query(e.getParsedQuery()),t._requestModule=e._requestModule}function c(t,e,r){for(key in e)t=t.param(key,e[key],r);return t}function u(t){function e(e){for(var r in e)l(e[r])&&delete e[r];n(!0,t,e)}function r(e,r){l(r)||(t[e]=r)}return function(n,o){o||"object"!=typeof n?r(n,o):e(n),this.search=s.stringify(t)}}function l(t){return null===t||void 0===t}function h(t){return n(!0,{},t)}var p=e.prototype;return p._chain=function(){return new this.constructor(this)},p.template=function(t){var e=this._chain();return e.pathname=this._prefix+encodeURI(t),e},p.segment=function(t){var e=this._chain();return e.pathname=this.pathname+encodeURI(t),e},p.toString=function(){return o.format(this)},p.valueOf=p.toString,p.toJSON=p.toString,p.query=function(t,e){var r=this._chain();return r._query(t,e),r},p.prefix=function(t){var e=this._chain(),r=this.pathname.substr(this._prefix.length);return e._prefix=this._prefix+encodeURI(t),e.pathname=e._prefix+r,e},p.param=function(t,e,r){if("object"==typeof t)return c(this,t,!0===e);var n=this._chain(),o=this.pathname,s=":"+t;return n.pathname=this.pathname.replace(s,encodeURI(e)),r||n.pathname!==o?n:n.query(t,e)},Object.defineProperty(e.prototype,"request",{get:function(){var t=this._requestModule;if(t)return t.defaults({uri:this.toString()});throw Error('the "request" module was not found. You must have it installed to use this property')},set:function(t){return this._requestModule=t}}),e}},599:function(t,e){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===n.call(t)},a=function(t){"use strict";if(!t||"[object Object]"!==n.call(t))return!1;var e=r.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!o)return!1;var s;for(s in t);return void 0===s||r.call(t,s)},c=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},u=function(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(s)return s(t,e).value}return t[e]};t.exports=function t(){"use strict";var e,r,n,o,s,l,h=arguments[0],p=1,f=arguments.length,d=!1;for("boolean"==typeof h&&(d=h,h=arguments[1]||{},p=2),(null==h||"object"!=typeof h&&"function"!=typeof h)&&(h={});p<f;++p)if(null!=(e=arguments[p]))for(r in e)n=u(h,r),o=u(e,r),h!==o&&(d&&o&&(a(o)||(s=i(o)))?(s?(s=!1,l=n&&i(n)?n:[]):l=n&&a(n)?n:{},c(h,{name:r,newValue:t(d,l,o)})):void 0!==o&&c(h,{name:r,newValue:o}));return h}},600:function(t,e,r){"use strict";var n=r(602),o=r(601),s=r(285);t.exports={formats:s,parse:o,stringify:n}},601:function(t,e,r){"use strict";var n=r(286),o=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},i=function(t,e){for(var r={},n=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=e.parameterLimit===1/0?void 0:e.parameterLimit,a=n.split(e.delimiter,i),c=0;c<a.length;++c){var u,l,h=a[c],p=h.indexOf("]="),f=-1===p?h.indexOf("="):p+1;-1===f?(u=e.decoder(h,s.decoder),l=e.strictNullHandling?null:""):(u=e.decoder(h.slice(0,f),s.decoder),l=e.decoder(h.slice(f+1),s.decoder)),o.call(r,u)?r[u]=[].concat(r[u]).concat(l):r[u]=l}return r},a=function(t,e,r){for(var n=e,o=t.length-1;o>=0;--o){var s,i=t[o];if("[]"===i)s=[],s=s.concat(n);else{s=r.plainObjects?Object.create(null):{};var a="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,c=parseInt(a,10);!isNaN(c)&&i!==a&&String(c)===a&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[],s[c]=n):s[a]=n}n=s}return n},c=function(t,e,r){if(t){var n=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,c=s.exec(n),u=c?n.slice(0,c.index):n,l=[];if(u){if(!r.plainObjects&&o.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var h=0;null!==(c=i.exec(n))&&h<r.depth;){if(h+=1,!r.plainObjects&&o.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+n.slice(c.index)+"]"),a(l,e,r)}};t.exports=function(t,e){var r=e?n.assign({},e):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:s.delimiter,r.depth="number"==typeof r.depth?r.depth:s.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:s.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:s.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:s.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:s.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:s.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:s.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:s.strictNullHandling,""===t||null===t||void 0===t)return r.plainObjects?Object.create(null):{};for(var o="string"==typeof t?i(t,r):t,a=r.plainObjects?Object.create(null):{},u=Object.keys(o),l=0;l<u.length;++l){var h=u[l],p=c(h,o[h],r);a=n.merge(a,p,r)}return n.compact(a)}},602:function(t,e,r){"use strict";var n=r(286),o=r(285),s={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},i=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(t){return i.call(t)},skipNulls:!1,strictNullHandling:!1},c=function t(e,r,o,s,i,c,u,l,h,p,f,d){var m=e;if("function"==typeof u)m=u(r,m);else if(m instanceof Date)m=p(m);else if(null===m){if(s)return c&&!d?c(r,a.encoder):r;m=""}if("string"==typeof m||"number"==typeof m||"boolean"==typeof m||n.isBuffer(m))return c?[f(d?r:c(r,a.encoder))+"="+f(c(m,a.encoder))]:[f(r)+"="+f(String(m))];var y=[];if(void 0===m)return y;var g;if(Array.isArray(u))g=u;else{var v=Object.keys(m);g=l?v.sort(l):v}for(var w=0;w<g.length;++w){var b=g[w];i&&null===m[b]||(y=Array.isArray(m)?y.concat(t(m[b],o(r,b),o,s,i,c,u,l,h,p,f,d)):y.concat(t(m[b],r+(h?"."+b:"["+b+"]"),o,s,i,c,u,l,h,p,f,d)))}return y};t.exports=function(t,e){var r=t,i=e?n.assign({},e):{};if(null!==i.encoder&&void 0!==i.encoder&&"function"!=typeof i.encoder)throw new TypeError("Encoder has to be a function.");var u=void 0===i.delimiter?a.delimiter:i.delimiter,l="boolean"==typeof i.strictNullHandling?i.strictNullHandling:a.strictNullHandling,h="boolean"==typeof i.skipNulls?i.skipNulls:a.skipNulls,p="boolean"==typeof i.encode?i.encode:a.encode,f="function"==typeof i.encoder?i.encoder:a.encoder,d="function"==typeof i.sort?i.sort:null,m=void 0!==i.allowDots&&i.allowDots,y="function"==typeof i.serializeDate?i.serializeDate:a.serializeDate,g="boolean"==typeof i.encodeValuesOnly?i.encodeValuesOnly:a.encodeValuesOnly;if(void 0===i.format)i.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,i.format))throw new TypeError("Unknown format option provided.");var v,w,b=o.formatters[i.format];"function"==typeof i.filter?(w=i.filter,r=w("",r)):Array.isArray(i.filter)&&(w=i.filter,v=w);var x=[];if("object"!=typeof r||null===r)return"";var j;j=i.arrayFormat in s?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var O=s[j];v||(v=Object.keys(r)),d&&v.sort(d);for(var _=0;_<v.length;++_){var A=v[_];h&&null===r[A]||(x=x.concat(c(r[A],A,O,l,h,p?f:null,w,d,m,y,b,g)))}var I=x.join(u),C=!0===i.addQueryPrefix?"?":"";return I.length>0?C+I:""}},603:function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,r){if(t&&u.isObject(t)&&t instanceof n)return t;var o=new n;return o.parse(t,e,r),o}function s(t){return u.isString(t)&&(t=o(t)),t instanceof n?t.format():n.prototype.format.call(t)}function i(t,e){return o(t,!1,!0).resolve(e)}function a(t,e){return t?o(t,!1,!0).resolveObject(e):e}var c=r(493),u=r(604);e.parse=o,e.resolve=i,e.resolveObject=a,e.format=s,e.Url=n;var l=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(f),m=["'"].concat(d),y=["%","/","?",";","#"].concat(m),g=["/","?","#"],v=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},j={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},O=r(496);n.prototype.parse=function(t,e,r){if(!u.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=-1!==n&&n<t.indexOf("#")?"?":"#",s=t.split(o),i=/\\/g;s[0]=s[0].replace(i,"/"),t=s.join(o);var a=t;if(a=a.trim(),!r&&1===t.split("#").length){var h=p.exec(a);if(h)return this.path=a,this.href=a,this.pathname=h[1],h[2]?(this.search=h[2],this.query=e?O.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var f=l.exec(a);if(f){f=f[0];var d=f.toLowerCase();this.protocol=d,a=a.substr(f.length)}if(r||f||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===a.substr(0,2);!_||f&&x[f]||(a=a.substr(2),this.slashes=!0)}if(!x[f]&&(_||f&&!j[f])){for(var A=-1,I=0;I<g.length;I++){var C=a.indexOf(g[I]);-1!==C&&(-1===A||C<A)&&(A=C)}var R,P;P=-1===A?a.lastIndexOf("@"):a.lastIndexOf("@",A),-1!==P&&(R=a.slice(0,P),a=a.slice(P+1),this.auth=decodeURIComponent(R)),A=-1;for(var I=0;I<y.length;I++){var C=a.indexOf(y[I]);-1!==C&&(-1===A||C<A)&&(A=C)}-1===A&&(A=a.length),this.host=a.slice(0,A),a=a.slice(A),this.parseHost(),this.hostname=this.hostname||"";var S="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!S)for(var q=this.hostname.split(/\./),I=0,L=q.length;I<L;I++){var k=q[I];if(k&&!k.match(v)){for(var U="",D=0,N=k.length;D<N;D++)k.charCodeAt(D)>127?U+="x":U+=k[D];if(!U.match(v)){var F=q.slice(0,I),E=q.slice(I+1),T=k.match(w);T&&(F.push(T[1]),E.unshift(T[2])),E.length&&(a="/"+E.join(".")+a),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=c.toASCII(this.hostname));var M=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+M,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!b[d])for(var I=0,L=m.length;I<L;I++){var H=m[I];if(-1!==a.indexOf(H)){var z=encodeURIComponent(H);z===H&&(z=escape(H)),a=a.split(H).join(z)}}var Q=a.indexOf("#");-1!==Q&&(this.hash=a.substr(Q),a=a.slice(0,Q));var V=a.indexOf("?");if(-1!==V?(this.search=a.substr(V),this.query=a.substr(V+1),e&&(this.query=O.parse(this.query)),a=a.slice(0,V)):e&&(this.search="",this.query={}),a&&(this.pathname=a),j[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",X=this.search||"";this.path=M+X}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(s=O.stringify(this.query));var i=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||j[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),i&&"?"!==i.charAt(0)&&(i="?"+i),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),i=i.replace("#","%23"),e+o+r+i+n},n.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(u.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,o=Object.keys(this),s=0;s<o.length;s++){var i=o[s];r[i]=this[i]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),c=0;c<a.length;c++){var l=a[c];"protocol"!==l&&(r[l]=t[l])}return j[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!j[t.protocol]){for(var h=Object.keys(t),p=0;p<h.length;p++){var f=h[p];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||x[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=v||g||r.host&&t.pathname,b=w,O=r.pathname&&r.pathname.split("/")||[],d=t.pathname&&t.pathname.split("/")||[],_=r.protocol&&!j[r.protocol];if(_&&(r.hostname="",r.port=null,r.host&&(""===O[0]?O[0]=r.host:O.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===O[0])),v)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),r.search=t.search,r.query=t.query;else if(!u.isNullOrUndefined(t.search)){if(_){r.hostname=r.host=O.shift();var A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");A&&(r.auth=A.shift(),r.host=r.hostname=A.shift())}return r.search=t.search,r.query=t.query,u.isNull(r.pathname)&&u.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=O.slice(-1)[0],C=(r.host||t.host||O.length>1)&&("."===I||".."===I)||""===I,R=0,P=O.length;P>=0;P--)I=O[P],"."===I?O.splice(P,1):".."===I?(O.splice(P,1),R++):R&&(O.splice(P,1),R--);if(!w&&!b)for(;R--;R)O.unshift("..");!w||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),C&&"/"!==O.join("/").substr(-1)&&O.push("");var S=""===O[0]||O[0]&&"/"===O[0].charAt(0);if(_){r.hostname=r.host=S?"":O.length?O.shift():"";var A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");A&&(r.auth=A.shift(),r.host=r.hostname=A.shift())}return w=w||r.host&&O.length,w&&!S&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),u.isNull(r.pathname)&&u.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=h.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},604:function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},614:function(t,e,r){"use strict";(function(t){function e(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=r(290),s=e(o),i=r(291),a={aggregate:r(296),groupBy:r(298),filters:r(297)},c=function(){function t(e){var r=this;n(this,t),this.aggregate=function(t){-1==t.typeName.indexOf(":")&&(t.typeName="geonode:"+t.typeName);var e=r.urls.getProxiedURL(r.url);return fetch(e,{method:"POST",credentials:"include",body:r.getXml(a.aggregate,t),headers:new Headers({"Content-Type":"text/xml","X-CSRFToken":(0,i.getCRSFToken)()})}).then(function(t){return t.json()})},this.config=e,this.urls=new s.default(URLS),this.url=URLS.geoserver+"wps/"}return t.prototype.getXml=function(t,e){var r=this,n=t;return Object.keys(e).map(function(t){var o=a[t]?r.getXml(a[t],e[t]):e[t];n=n.replace("__"+t+"__",o)}),n=n.replace(/_{2}\w+_{2}/g,""),n.trim()},t}();t.WpsClient=c}).call(e,r(12))}},[614]);