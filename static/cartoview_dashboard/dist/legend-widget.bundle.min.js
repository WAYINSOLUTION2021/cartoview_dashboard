webpackJsonp([6],{11:function(e,t,n){"use strict";t.__esModule=!0;var r=n(18);t.default=new r.EventEmitter},17:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=r(o);t.default={getProxiedUrl:function(e,t){return t?t+encodeURIComponent(e):e},getResolutionForScale:function(e,t){var n=25.4/.28,r=i.default.proj.METERS_PER_UNIT[t];return parseFloat(e)/(39.37*r*n)},getTimeInfo:function(e){if(e.Dimension)for(var t=0,n=e.Dimension.length;t<n;++t){var r=e.Dimension[t];if("time"===r.name)return r.values}},rgbToHex:function(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},transformColor:function(e){var t=e.rgb?e.rgb:e;return[t.r,t.g,t.b,t.a]},doJSONP:function(e,t,n,r){function o(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}var i="fn"+Date.now()+o(1,1e4),a=document.createElement("script");a.onerror=function(){n&&n.call(r)},a.src=e.replace("__cbname__",i),window[i]=function(e){t.call(r,e),delete window[i]},document.head.appendChild(a)},doGET:function(e,t,n,r,o){var i=new XMLHttpRequest;if(i.onreadystatechange=function(){4===i.readyState&&(200===i.status?t&&t.call(r,i):n&&n.call(r,i))},i.open("GET",e,!0),o)for(var a in o)o.hasOwnProperty(a)&&i.setRequestHeader(a,o[a]);return i.send(),i},doPOST:function(e,t,n,r,o,i,a,s){var u=new XMLHttpRequest;if(u.open(a?"PUT":"POST",e,!0),u.setRequestHeader("Content-Type",i||"text/xml"),u.onreadystatechange=function(){4===u.readyState&&(200===u.status||201===u.status?n.call(o,u):r.call(o,u))},s)for(var l in s)s.hasOwnProperty(l)&&u.setRequestHeader(l,s[l]);return u.send(t),u}}},18:function(e,t,n){"use strict";function r(e){console&&console.warn&&console.warn(e)}function o(){o.init.call(this)}function i(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function s(e,t,n,o){var s,u,l;if(i(n),u=e._events,void 0===u?(u=e._events=Object.create(null),e._eventsCount=0):(void 0!==u.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),u=e._events),l=u[t]),void 0===l)l=u[t]=n,++e._eventsCount;else if("function"==typeof l?l=u[t]=o?[n,l]:[l,n]:o?l.unshift(n):l.push(n),(s=a(e))>0&&l.length>s&&!l.warned){l.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=l.length,r(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=u.bind(r);return o.listener=n,r.wrapFn=o,o}function c(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?d(o):p(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function h(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function d(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}var y,g="object"==typeof Reflect?Reflect:null,m=g&&"function"==typeof g.apply?g.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};y=g&&"function"==typeof g.ownKeys?g.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var v=Number.isNaN||function(e){return e!==e};e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var b=10;Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(e){if("number"!=typeof e||e<0||v(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");b=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||v(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return a(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var s=o[e];if(void 0===s)return!1;if("function"==typeof s)m(s,this,t);else for(var u=s.length,l=p(s,u),n=0;n<u;++n)m(l[n],this,t);return!0},o.prototype.addListener=function(e,t){return s(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return s(this,e,t,!0)},o.prototype.once=function(e,t){return i(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return i(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,o,a,s;if(i(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,o=a;break}if(o<0)return this;0===o?n.shift():h(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return c(this,e,!0)},o.prototype.rawListeners=function(e){return c(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]}},286:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(17),s=r(a),u=n(8),l=r(u),c=n(34),f=r(c),p=new l.default.format.EsriJSON,h=function(){function e(){o(this,e)}return i(e,[{key:"createLayer",value:function(e,t,n,r){var o=r.getUnits();return new l.default.layer.Tile({title:n.title,emptyTitle:n.empty,id:e.Name,maxResolution:0!==e.MinScale?s.default.getResolutionForScale(e.MinScale,o):void 0,minResolution:0!==e.MaxScale?s.default.getResolutionForScale(e.MaxScale,o):void 0,name:e.Name,isRemovable:!0,wfsInfo:e.Queryable,popupInfo:e.Queryable?"#AllAttributes":void 0,source:new l.default.source.TileArcGISRest({urls:[t],params:{LAYERS:e.Name}})})}},{key:"parseCapabilities",value:function(e){for(var t=[],n=0,r=e.layers.length;n<r;++n){var o={},i=e.layers[n];o.MinScale=i.minScale,o.MaxScale=i.maxScale,o.Name=String(i.id),o.Queryable=e.capabilities&&-1!==e.capabilities.indexOf("Query"),o.Title=i.name,t.push(o)}return{Layer:t,Title:e.serviceDescription}}},{key:"getCapabilitiesUrl",value:function(e){var t=new f.default(e);return t.set("query",{f:"json",pretty:"false",callback:"__cbname__"}),t.toString()}},{key:"getCapabilities",value:function(e,t,n,r){s.default.doJSONP(this.getCapabilitiesUrl(e),function(e){t.call(this,this.parseCapabilities(e))},n,this)}},{key:"getLegendUrl",value:function(e){var t=new f.default(e+"/legend");return t.set("query",{f:"json",pretty:"false",callback:"__cbname__"}),t.toString()}},{key:"getLegend",value:function(e,t){s.default.doJSONP(this.getLegendUrl(e),function(e){t.call(this,e)},void 0,this)}},{key:"getFeatureInfoUrl",value:function(e,t,n){var r=n.getView(),o=new f.default(e.getSource().getUrls()[0]+"/identify");return o.set("query",{geometryType:"esriGeometryPoint",geometry:t.join(","),sr:r.getProjection().getCode().split(":")[1],layers:e.get("name"),tolerance:2,mapExtent:r.calculateExtent(n.getSize()).join(","),imageDisplay:n.getSize().join(",")+",90",f:"json",callback:"__cbname__",pretty:"false"}),o.toString()}},{key:"parseGetFeatureInfo",value:function(e,t){for(var n={layer:e,features:[]},r=0,o=t.results.length;r<o;++r){var i=p.readFeature(t.results[r]);i&&n.features.push(i)}return n}},{key:"getFeatureInfo",value:function(e,t,n,r,o,i,a){var u=this.getFeatureInfoUrl(e,t,n),l=this;s.default.doJSONP(u,function(t){o.call(l,l.parseGetFeatureInfo(e,t))})}},{key:"getLoadFeaturesUrl",value:function(e,t,n,r,o){var i=new f.default(e.getSource().getUrls()[0]+"/"+e.get("name")+"/query"),a={where:"OBJECTID >= "+t+" AND OBJECTID < "+(t+n),f:"json",callback:"__cbname__",pretty:"false",outSR:o.split(":")[1]};return 1===r.length&&(a.orderByFields=r[0].id+" "+(r[0].asc?"ASC":"DESC")),i.set("query",a),i.toString()}},{key:"loadFeatures",value:function(e,t,n,r,o,i,a){s.default.doJSONP(this.getLoadFeaturesUrl(e,t,n,r,o),function(e){e.error?a.call(this,{status:e.error.code,statusText:e.error.message},e.error.details.join(" ")):i.call(this,p.readFeatures(e))},a,this)}},{key:"getNumberOfFeaturesUrl",value:function(e){var t=new f.default(e.getSource().getUrls()[0]+"/"+e.get("name")+"/query"),n={where:"1=1",f:"json",callback:"__cbname__",pretty:"false",returnCountOnly:!0};return t.set("query",n),t.toString()}},{key:"getNumberOfFeatures",value:function(e,t){void 0===e.get("numberOfFeatures")&&s.default.doJSONP(this.getNumberOfFeaturesUrl(e),function(e){t.call(this,e.count)},void 0,this)}}]),e}();t.default=new h},34:function(e,t,n){"use strict";(function(t){function r(e){return(e||"").toString().replace(y,"")}function o(e){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};var r=n.location||{};e=e||r;var o,i={},a=typeof e;if("blob:"===e.protocol)i=new s(unescape(e.pathname),{});else if("string"===a){i=new s(e,{});for(o in m)delete i[o]}else if("object"===a){for(o in e)o in m||(i[o]=e[o]);void 0===i.slashes&&(i.slashes=p.test(e.href))}return i}function i(e){e=r(e);var t=h.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function a(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}function s(e,t,n){if(e=r(e),!(this instanceof s))return new s(e,t,n);var u,l,p,h,d,y,m=g.slice(),v=typeof t,b=this,w=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!=typeof n&&(n=f.parse),t=o(t),l=i(e||""),u=!l.protocol&&!l.slashes,b.slashes=l.slashes||u&&t.slashes,b.protocol=l.protocol||t.protocol||"",e=l.rest,l.slashes||(m[3]=[/(.*)/,"pathname"]);w<m.length;w++)h=m[w],"function"!=typeof h?(p=h[0],y=h[1],p!==p?b[y]=e:"string"==typeof p?~(d=e.indexOf(p))&&("number"==typeof h[2]?(b[y]=e.slice(0,d),e=e.slice(d+h[2])):(b[y]=e.slice(d),e=e.slice(0,d))):(d=p.exec(e))&&(b[y]=d[1],e=e.slice(0,d.index)),b[y]=b[y]||(u&&h[3]?t[y]||"":""),h[4]&&(b[y]=b[y].toLowerCase())):e=h(e);n&&(b.query=n(b.query)),u&&t.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==t.pathname)&&(b.pathname=a(b.pathname,t.pathname)),c(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(h=b.auth.split(":"),b.username=h[0]||"",b.password=h[1]||""),b.origin=b.protocol&&b.host&&"file:"!==b.protocol?b.protocol+"//"+b.host:"null",b.href=b.toString()}function u(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||f.parse)(t)),r[e]=t;break;case"port":r[e]=t,c(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";r[e]=t.charAt(0)!==o?o+t:t}else r[e]=t;break;default:r[e]=t}for(var i=0;i<g.length;i++){var a=g[i];a[4]&&(r[a[1]]=r[a[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function l(e){e&&"function"==typeof e||(e=f.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,t="object"==typeof n.query?e(n.query):n.query,t&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}var c=n(45),f=n(39),p=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,h=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,d="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",y=new RegExp("^"+d+"+"),g=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],m={hash:1,query:1};s.prototype={set:u,toString:l},s.extractProtocol=i,s.location=o,s.trimLeft=r,s.qs=f,e.exports=s}).call(t,n(10))},39:function(e,t,n){"use strict";function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,o={};t=n.exec(e);){var i=r(t[1]),a=r(t[2]);null===i||null===a||i in o||(o[i]=a)}return o}function i(e,t){t=t||"";var n,r,o=[];"string"!=typeof t&&(t="?");for(r in e)if(s.call(e,r)){if(n=e[r],n||null!==n&&n!==a&&!isNaN(n)||(n=""),r=encodeURIComponent(r),n=encodeURIComponent(n),null===r||null===n)continue;o.push(r+"="+n)}return o.length?t+o.join("&"):""}var a,s=Object.prototype.hasOwnProperty;t.stringify=i,t.parse=o},45:function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},552:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(1),u=r(s),l=n(286),c=r(l),f=n(11),p=r(f),h=n(7),d=r(h),y=n(8),g=r(y),m=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){if(this.state&&this.state.legendInfo){var e=this.state.legendInfo.layers,t={width:"auto",height:"auto"};return u.default.createElement("div",null,e.map(function(e){return e.legend.map(function(e){return u.default.createElement("div",null,u.default.createElement("img",{style:t,src:"data:"+e.contentType+";base64,"+e.imageData}),u.default.createElement("span",null,e.label))})}))}return null},t.prototype.componentDidMount=function(){var e=this,t=this.props.layer,n=t.getSource(),r=n.getUrls()[0];c.default.getLegend(r,function(t){e.setState({legendInfo:t})})},t}(s.Component),v=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this.props.map,t=this.getLegends(e.getLayers().getArray());return u.default.createElement("div",null,t)},t.prototype.getLegends=function(e){var t=this,n=[];return e.forEach(function(e){if(e instanceof g.default.layer.Group)n=n.concat(t.getLegends(e.getLayers()));else if(e.getVisible()&&t.hasLegend(e))if(t.isWMS(e)){var r=e.getSource(),o=r.getParams(),i=r.getUrls()[0];i=i.replace("ows","wms"),console.log(i),i+=-1==i.indexOf("?")?"?":"&",i+="layer="+o.LAYERS,i+="&request=GetLegendGraphic&format=image%2Fpng&transparent=true&legend_options=fontAntiAliasing:true;fontSize:14;&width=30&height=30",i+="&style="+(o.STYLES||""),n.push(u.default.createElement("div",null,u.default.createElement("h4",null,e.get("title")),u.default.createElement("img",{src:i})))}else e.getSource()instanceof g.default.source.TileArcGISRest&&n.push(u.default.createElement("div",null,u.default.createElement("h4",null,e.get("title"))," ",u.default.createElement(m,{layer:e})))}),n},t.prototype.hasLegend=function(e){return e instanceof g.default.layer.Tile&&e.getSource()instanceof g.default.source.TileWMS||e instanceof g.default.layer.Image&&e.getSource()instanceof g.default.source.ImageWMS||e instanceof g.default.layer.Tile&&e.getSource()instanceof g.default.source.TileArcGISRest},t.prototype.isWMS=function(e){return e.getSource()instanceof g.default.source.TileWMS||e.getSource()instanceof g.default.source.ImageWMS},t}(s.Component),b=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e={padding:"10px 20px"};return u.default.createElement("div",{style:e},this.state&&this.state.ready?u.default.createElement(v,{map:this.state.map}):u.default.createElement("span",null,"The map for this Legend widget must be configured.  Click ",u.default.createElement("i",{className:"glyphicon glyphicon-cog",style:{color:"#337ab7"}})," icon and select a map within this dashboard."))},t.prototype.setConfig=function(t){e.prototype.setConfig.call(this,t),this.attachToMapWidget(t.mapWidget)},t.prototype.componentDidMount=function(){this.state.config.mapWidget&&this.attachToMapWidget(this.state.config.mapWidget),e.prototype.componentDidMount.call(this)},t.prototype.attachToMapWidget=function(e){var t=this,n=this.context.configManager.getWidget(e);n&&n.ready?this.setState({ready:!0,map:n.map}):p.default.on("mapReady_"+e,function(e){t.setState({ready:!0,map:e})})},t}(BaseWidget);b.displayName="Legend";var w=function(e){function t(n){o(this,t);var r=i(this,e.call(this,n));return r.state.maps=[],r}return a(t,e),t.prototype.getSchema=function(e){return{mapWidget:{type:"select",lable:"Map",options:{},props:{}}}},t.prototype.getInitialData=function(e){return e.widget.getConfig()},t.prototype.getSelectOptions=function(e,t,n){var r=this.props.widget.context.configManager.getMapWidgets();return Object.keys(r).filter(function(e){return"MapWidget"==dash.props.widgets[e].type.name}).map(function(e){return u.default.createElement("option",{value:e},r[e].title," - ",e)})},t}(d.default);b.ConfigForm=w,Dashboard.registerWidget(b),t.default=b},7:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),f=r(c),p=function(e){function t(n){i(this,t);var r=a(this,e.call(this,n));return Object.defineProperty(r,"value",{get:function(){return JSON.parse(r.refs.textarea.value)},set:function(e){r.refs.textarea.value=JSON.stringify(e||{})},enumerable:!0,configurable:!0}),r}return s(t,e),t.prototype.render=function(){var e=o(this.props,[]);return delete e.ref,f.default.createElement("textarea",l({},e,{ref:"textarea"}))},t}(c.Component),h=function(e){function t(n){i(this,t);var r=a(this,e.call(this,n));return r.state={schema:n.schema||r.getSchema(n),data:n.data||r.getInitialData(n)},r.fields={},r}return s(t,e),t.prototype.getSchema=function(){return{}},t.prototype.getInitialData=function(){return{}},t.prototype.render=function(){var e=this,t=this.state,n=t.schema,r=t.data;return f.default.createElement("div",null,r&&Object.keys(n).map(function(t,o){var i=e.field(t,n[t],n[t].getValue?n[t].getValue(r):r[t]||null);return f.default.createElement("div",{key:o},i)}))},t.prototype.field=function(e,t,n){var r=this,o=t.props,i=void 0===o?{}:o;i.className="form-control",i.ref=function(t){t&&(t.value=n,r.fields[e]=t,t.fieldSet=r)};var a=null;-1!=["text","number","url","email"].indexOf(t.type)?(i.type=t.type,a=f.default.createElement("input",i)):"textarea"==t.type?a=f.default.createElement("textarea",i):"json"==t.type?a=f.default.createElement(p,i):"select"==t.type&&(a=f.default.createElement("select",i,this.getSelectOptions(e,t,n)));var s=t.label||e.charAt(0).toUpperCase()+e.slice(1);return f.default.createElement("div",{className:"form-group"},f.default.createElement("label",null,s),a)},t.prototype.getSelectOptions=function(e,t,n){var r=t.options;return r?"object"==(void 0===r?"undefined":u(r))?Object.keys(r).map(function(e){return f.default.createElement("option",{value:e},r[e])}):"function"==typeof r?r(this,this.state.data):null:null},t.prototype.getData=function(){var e=this,t={};return Object.keys(this.fields).map(function(n){t[n]=e.fields[n].value}),t},t}(c.Component);t.default=h}},[552]);