webpackJsonp([6],{13:function(e,t,n){"use strict";t.__esModule=!0;var r=n(18);t.default=new r.EventEmitter},18:function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,a,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),l=n.slice(),o=l.length,u=0;u<o;u++)l[u].apply(this,a);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},25:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=r(o);t.default={getProxiedUrl:function(e,t){return t?t+encodeURIComponent(e):e},getResolutionForScale:function(e,t){var n=25.4/.28,r=i.default.proj.METERS_PER_UNIT[t];return parseFloat(e)/(39.37*r*n)},getTimeInfo:function(e){if(e.Dimension)for(var t=0,n=e.Dimension.length;t<n;++t){var r=e.Dimension[t];if("time"===r.name)return r.values}},rgbToHex:function(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},transformColor:function(e){var t=e.rgb?e.rgb:e;return[t.r,t.g,t.b,t.a]},doJSONP:function(e,t,n,r){function o(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}var i="fn"+Date.now()+o(1,1e4),s=document.createElement("script");s.onerror=function(){n&&n.call(r)},s.src=e.replace("__cbname__",i),window[i]=function(e){t.call(r,e),delete window[i]},document.head.appendChild(s)},doGET:function(e,t,n,r,o){var i=new XMLHttpRequest;if(i.onreadystatechange=function(){4===i.readyState&&(200===i.status?t&&t.call(r,i):n&&n.call(r,i))},i.open("GET",e,!0),o)for(var s in o)o.hasOwnProperty(s)&&i.setRequestHeader(s,o[s]);return i.send(),i},doPOST:function(e,t,n,r,o,i,s,a){var u=new XMLHttpRequest;if(u.open(s?"PUT":"POST",e,!0),u.setRequestHeader("Content-Type",i||"text/xml"),u.onreadystatechange=function(){4===u.readyState&&(200===u.status||201===u.status?n.call(o,u):r.call(o,u))},a)for(var l in a)a.hasOwnProperty(l)&&u.setRequestHeader(l,a[l]);return u.send(t),u}}},281:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(25),a=r(s),u=n(10),l=r(u),c=n(51),f=r(c),p=new l.default.format.EsriJSON,h=function(){function e(){o(this,e)}return i(e,[{key:"createLayer",value:function(e,t,n,r){var o=r.getUnits();return new l.default.layer.Tile({title:n.title,emptyTitle:n.empty,id:e.Name,maxResolution:0!==e.MinScale?a.default.getResolutionForScale(e.MinScale,o):void 0,minResolution:0!==e.MaxScale?a.default.getResolutionForScale(e.MaxScale,o):void 0,name:e.Name,isRemovable:!0,wfsInfo:e.Queryable,popupInfo:e.Queryable?"#AllAttributes":void 0,source:new l.default.source.TileArcGISRest({urls:[t],params:{LAYERS:e.Name}})})}},{key:"parseCapabilities",value:function(e){for(var t=[],n=0,r=e.layers.length;n<r;++n){var o={},i=e.layers[n];o.MinScale=i.minScale,o.MaxScale=i.maxScale,o.Name=String(i.id),o.Queryable=e.capabilities&&-1!==e.capabilities.indexOf("Query"),o.Title=i.name,t.push(o)}return{Layer:t,Title:e.serviceDescription}}},{key:"getCapabilitiesUrl",value:function(e){var t=new f.default(e);return t.set("query",{f:"json",pretty:"false",callback:"__cbname__"}),t.toString()}},{key:"getCapabilities",value:function(e,t,n,r){a.default.doJSONP(this.getCapabilitiesUrl(e),function(e){t.call(this,this.parseCapabilities(e))},n,this)}},{key:"getLegendUrl",value:function(e){var t=new f.default(e+"/legend");return t.set("query",{f:"json",pretty:"false",callback:"__cbname__"}),t.toString()}},{key:"getLegend",value:function(e,t){a.default.doJSONP(this.getLegendUrl(e),function(e){t.call(this,e)},void 0,this)}},{key:"getFeatureInfoUrl",value:function(e,t,n){var r=n.getView(),o=new f.default(e.getSource().getUrls()[0]+"/identify");return o.set("query",{geometryType:"esriGeometryPoint",geometry:t.join(","),sr:r.getProjection().getCode().split(":")[1],layers:e.get("name"),tolerance:2,mapExtent:r.calculateExtent(n.getSize()).join(","),imageDisplay:n.getSize().join(",")+",90",f:"json",callback:"__cbname__",pretty:"false"}),o.toString()}},{key:"parseGetFeatureInfo",value:function(e,t){for(var n={layer:e,features:[]},r=0,o=t.results.length;r<o;++r){var i=p.readFeature(t.results[r]);i&&n.features.push(i)}return n}},{key:"getFeatureInfo",value:function(e,t,n,r,o,i,s){var u=this.getFeatureInfoUrl(e,t,n),l=this;a.default.doJSONP(u,function(t){o.call(l,l.parseGetFeatureInfo(e,t))})}},{key:"getLoadFeaturesUrl",value:function(e,t,n,r,o){var i=new f.default(e.getSource().getUrls()[0]+"/"+e.get("name")+"/query"),s={where:"OBJECTID >= "+t+" AND OBJECTID < "+(t+n),f:"json",callback:"__cbname__",pretty:"false",outSR:o.split(":")[1]};return 1===r.length&&(s.orderByFields=r[0].id+" "+(r[0].asc?"ASC":"DESC")),i.set("query",s),i.toString()}},{key:"loadFeatures",value:function(e,t,n,r,o,i,s){a.default.doJSONP(this.getLoadFeaturesUrl(e,t,n,r,o),function(e){e.error?s.call(this,{status:e.error.code,statusText:e.error.message},e.error.details.join(" ")):i.call(this,p.readFeatures(e))},s,this)}},{key:"getNumberOfFeaturesUrl",value:function(e){var t=new f.default(e.getSource().getUrls()[0]+"/"+e.get("name")+"/query"),n={where:"1=1",f:"json",callback:"__cbname__",pretty:"false",returnCountOnly:!0};return t.set("query",n),t.toString()}},{key:"getNumberOfFeatures",value:function(e,t){void 0===e.get("numberOfFeatures")&&a.default.doJSONP(this.getNumberOfFeaturesUrl(e),function(e){t.call(this,e.count)},void 0,this)}}]),e}();t.default=new h},43:function(e,t,n){"use strict";function r(e){return decodeURIComponent(e.replace(/\+/g," "))}function o(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,o={};t=n.exec(e);o[r(t[1])]=r(t[2]));return o}function i(e,t){t=t||"";var n=[];"string"!=typeof t&&(t="?");for(var r in e)s.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""}var s=Object.prototype.hasOwnProperty;t.stringify=i,t.parse=o},50:function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},51:function(e,t,n){"use strict";(function(t){function r(e){e=e||t.location||{};var n,r={},o=typeof e;if("blob:"===e.protocol)r=new s(unescape(e.pathname),{});else if("string"===o){r=new s(e,{});for(n in d)delete r[n]}else if("object"===o){for(n in e)n in d||(r[n]=e[n]);void 0===r.slashes&&(r.slashes=p.test(e.href))}return r}function o(e){var t=f.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function i(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],i=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(i=!0),n.splice(r,1),s--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);var a,u,f,p,d,y,v=h.slice(),g=typeof t,m=this,b=0;for("object"!==g&&"string"!==g&&(n=t,t=null),n&&"function"!=typeof n&&(n=c.parse),t=r(t),u=o(e||""),a=!u.protocol&&!u.slashes,m.slashes=u.slashes||a&&t.slashes,m.protocol=u.protocol||t.protocol||"",e=u.rest,u.slashes||(v[2]=[/(.*)/,"pathname"]);b<v.length;b++)p=v[b],f=p[0],y=p[1],f!==f?m[y]=e:"string"==typeof f?~(d=e.indexOf(f))&&("number"==typeof p[2]?(m[y]=e.slice(0,d),e=e.slice(d+p[2])):(m[y]=e.slice(d),e=e.slice(0,d))):(d=f.exec(e))&&(m[y]=d[1],e=e.slice(0,d.index)),m[y]=m[y]||(a&&p[3]?t[y]||"":""),p[4]&&(m[y]=m[y].toLowerCase());n&&(m.query=n(m.query)),a&&t.slashes&&"/"!==m.pathname.charAt(0)&&(""!==m.pathname||""!==t.pathname)&&(m.pathname=i(m.pathname,t.pathname)),l(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(p=m.auth.split(":"),m.username=p[0]||"",m.password=p[1]||""),m.origin=m.protocol&&m.host&&"file:"!==m.protocol?m.protocol+"//"+m.host:"null",m.href=m.toString()}function a(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||c.parse)(t)),r[e]=t;break;case"port":r[e]=t,l(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":r.pathname=t.length&&"/"!==t.charAt(0)?"/"+t:t;break;default:r[e]=t}for(var o=0;o<h.length;o++){var i=h[o];i[4]&&(r[i[1]]=r[i[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function u(e){e&&"function"==typeof e||(e=c.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,t="object"==typeof n.query?e(n.query):n.query,t&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}var l=n(50),c=n(43),f=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,p=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,h=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};s.prototype={set:a,toString:u},s.extractProtocol=o,s.location=r,s.qs=c,e.exports=s}).call(t,n(12))},598:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var a in i)void 0===n[a]&&(n[a]=i[a]);else n||(n=i||{});if(1===s)n.children=o;else if(s>1){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=n(1),l=(r(u),n(281)),c=r(l),f=n(13),p=r(f),h=n(10),d=r(h),y=n(9),v=r(y),g=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){if(this.state&&this.state.legendInfo){var e=this.state.legendInfo.layers,t={width:"auto",height:"auto"};return a("div",{},void 0,e.map(function(e){return e.legend.map(function(e){return a("div",{},void 0,a("img",{style:t,src:"data:"+e.contentType+";base64,"+e.imageData}),a("span",{},void 0,e.label))})}))}return null},t.prototype.componentDidMount=function(){var e=this,t=this.props.layer,n=t.getSource(),r=n.getUrls()[0];c.default.getLegend(r,function(t){e.setState({legendInfo:t})})},t}(u.Component),m=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){var e=this.props.map,t=this.getLegends(e.getLayers().getArray());return a("div",{},void 0,t)},t.prototype.getLegends=function(e){var t=this,n=[];return e.forEach(function(e){if(e instanceof d.default.layer.Group)n=n.concat(t.getLegends(e.getLayers()));else if(e.getVisible()&&t.hasLegend(e))if(t.isWMS(e)){var r=e.getSource(),o=r.getParams(),i=r.getUrls()[0];i+=-1==i.indexOf("?")?"?":"&",i+="layer="+o.LAYERS,i+="&request=GetLegendGraphic&format=image%2Fpng&transparent=true&legend_options=fontAntiAliasing:true;fontSize:14;&width=30&height=30",i+="&style="+(o.STYLES||""),n.push(a("div",{},void 0,a("h4",{},void 0,e.get("title")),a("img",{src:i})))}else e.getSource()instanceof d.default.source.TileArcGISRest&&n.push(a("div",{},void 0,a("h4",{},void 0,e.get("title"))," ",a(g,{layer:e})))}),n},t.prototype.hasLegend=function(e){return e instanceof d.default.layer.Tile&&e.getSource()instanceof d.default.source.TileWMS||e instanceof d.default.layer.Image&&e.getSource()instanceof d.default.source.ImageWMS||e instanceof d.default.layer.Tile&&e.getSource()instanceof d.default.source.TileArcGISRest},t.prototype.isWMS=function(e){return e.getSource()instanceof d.default.source.TileWMS||e.getSource()instanceof d.default.source.ImageWMS},t}(u.Component),b=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){return a("div",{style:{padding:"10px 20px"}},void 0,this.state&&this.state.ready?a(m,{map:this.state.map}):a("span",{},void 0,"You have to add a map to this dashboard to show the legend."))},t.prototype.setConfig=function(t){e.prototype.setConfig.call(this,t),this.attachToMapWidget(t.mapWidget)},t.prototype.componentDidMount=function(){this.state.config.mapWidget&&this.attachToMapWidget(this.state.config.mapWidget)},t.prototype.attachToMapWidget=function(e){var t=this,n=this.context.configManager.getWidget(e);n&&n.ready?this.setState({ready:!0,map:n.map}):p.default.on("mapReady_"+e,function(e){t.setState({ready:!0,map:e})})},t}(BaseWidget);b.displayName="Legend";var _=function(e){function t(n){o(this,t);var r=i(this,e.call(this,n));return r.state.maps=[],r}return s(t,e),t.prototype.getSchema=function(e){return{mapWidget:{type:"select",lable:"Map",options:{},props:{}}}},t.prototype.getInitialData=function(e){return e.widget.getConfig()},t.prototype.getSelectOptions=function(e,t,n){var r=this.props.widget.context.configManager.getMapWidgets();return Object.keys(r).filter(function(e){return"MapWidget"==dash.props.widgets[e].type.name}).map(function(e){return a("option",{value:e},void 0,r[e].title," - ",e)})},t}(v.default);b.ConfigForm=_,Dashboard.registerWidget(b),t.default=b},9:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var a in i)void 0===n[a]&&(n[a]=i[a]);else n||(n=i||{});if(1===s)n.children=o;else if(s>1){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=n(1),p=r(f),h=function(e){function t(n){i(this,t);var r=s(this,e.call(this,n));return Object.defineProperty(r,"value",{get:function(){return JSON.parse(r.refs.textarea.value)},set:function(e){r.refs.textarea.value=JSON.stringify(e||{})},enumerable:!0,configurable:!0}),r}return a(t,e),t.prototype.render=function(){var e=o(this.props,[]);return delete e.ref,p.default.createElement("textarea",c({},e,{ref:"textarea"}))},t}(f.Component),d=function(e){function t(n){i(this,t);var r=s(this,e.call(this,n));return r.state={schema:n.schema||r.getSchema(n),data:n.data||r.getInitialData(n)},r.fields={},r}return a(t,e),t.prototype.getSchema=function(){return{}},t.prototype.getInitialData=function(){return{}},t.prototype.render=function(){var e=this,t=this.state,n=t.schema,r=t.data;return l("div",{},void 0,Object.keys(n).map(function(t){return e.field(t,n[t],n[t].getValue?n[t].getValue(r):r[t]||null)}))},t.prototype.field=function(e,t,n){var r=this,o=t.props,i=void 0===o?{}:o;i.className="form-control",i.ref=function(t){t&&(t.value=n,r.fields[e]=t,t.fieldSet=r)};var s=null;-1!=["text","number","url","email"].indexOf(t.type)?(i.type=t.type,s=p.default.createElement("input",i)):"textarea"==t.type?s=p.default.createElement("textarea",i):"json"==t.type?s=p.default.createElement(h,i):"select"==t.type&&(s=p.default.createElement("select",i,this.getSelectOptions(e,t,n)));var a=t.label||e.charAt(0).toUpperCase()+e.slice(1);return l("div",{className:"form-group"},void 0,l("label",{},void 0,a),s)},t.prototype.getSelectOptions=function(e,t,n){var r=t.options;return r?"object"==(void 0===r?"undefined":u(r))?Object.keys(r).map(function(e){return l("option",{value:e},void 0,r[e])}):"function"==typeof r?r(this,this.state.data):null:null},t.prototype.getData=function(){var e=this,t={};return Object.keys(this.fields).map(function(n){t[n]=e.fields[n].value}),t},t}(f.Component);t.default=d}},[598]);